{% extends "furo/page.html" %}

{% block body %}
  {{ super() }}
  {# Parts of this code are Copyright (c) Rapptz. Used with permission. #}
  <!-- Inject some JavaScript to convert the index names into something useful. -->
  <script>
    let elements = document.querySelectorAll("table.indextable a");

    // this is pretty finicky but it should work.
    for(let el of elements) {
      let key = el.getAttribute('href').split('#', 2)[1]
      if(!key.startsWith('aiotnb.')) {
        continue;
      }

      if(el.textContent.indexOf('()') !== -1) {
        key = key + '()'
      }
      el.textContent = key;
    }
    document.querySelectorAll("td").forEach(el => el.style.width = 'auto');
  </script>
  <div id="to-top" onclick="scrollToTop()"{%- if READTHEDOCS %} class="is-rtd"{%- endif %} hidden>
    <span><span class="material-icons">arrow_upward</span> to top</span>
  </div>
{% endblock body %}